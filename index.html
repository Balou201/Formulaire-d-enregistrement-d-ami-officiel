<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Questionnaire dâ€™Ami Officiel ğŸ“</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    input, button { padding: 10px; width: 100%; margin: 5px 0; }
    #codeField { margin-top: 20px; background: #eee; padding: 10px; font-family: monospace; }
  </style>
</head>
<body>

  <h1>ğŸ’Œ Questionnaire dâ€™Enregistrement dâ€™Ami Officiel</h1>

  <p>Merci de bien vouloir remplir ces informations. Elles serviront uniquement Ã  complÃ©ter votre Fiche dâ€™AmitiÃ© officielle.</p>

  <!-- Champ pour entrer un code dÃ©jÃ  existant -->
  <label>ğŸ”‘ Entrer un code pour retrouver tes rÃ©ponses :</label>
  <input type="text" id="inputCode" placeholder="Colle ton code ici">
  <button onclick="loadFromCode()">ğŸ”„ Charger les rÃ©ponses</button>

  <hr>

  <!-- Formulaire -->
  <form id="friendForm">
    <label>Nom de famille :</label>
    <input type="text" id="nom">

    <label>PrÃ©nom :</label>
    <input type="text" id="prenom">

    <label>Date de naissance :</label>
    <input type="date" id="dob">

    <button type="button" onclick="generateCode()">ğŸ GÃ©nÃ©rer mon code secret</button>
  </form>

  <!-- Code gÃ©nÃ©rÃ© -->
  <div id="codeField" style="display: none;"></div>

  <script>
    function generateCode() {
      const data = {
        nom: document.getElementById('nom').value,
        prenom: document.getElementById('prenom').value,
        dob: document.getElementById('dob').value,
      };
      const json = JSON.stringify(data);
      const code = btoa(json); // Encode en base64
      document.getElementById('codeField').style.display = 'block';
      document.getElementById('codeField').textContent = "Ton code secret : " + code;
    }

    function loadFromCode() {
      const code = document.getElementById('inputCode').value;
      try {
        const json = atob(code);
        const data = JSON.parse(json);
        document.getElementById('nom').value = data.nom || '';
        document.getElementById('prenom').value = data.prenom || '';
        document.getElementById('dob').value = data.dob || '';
        alert("Formulaire rechargÃ© avec succÃ¨s !");
      } catch (e) {
        alert("Code invalide !");
      }
    }
  </script>

</body>
</html>
